"use strict";
document.addEventListener("DOMContentLoaded", () => {
    var _a;
    let connection = new WebSocket("ws://localhost:4201");
    let ul = document.querySelector("#ul_messages");
    // réaction à un message provenant du server
    connection.addEventListener("message", async (e) => {
        let li = document.createElement("li");
        li.innerHTML = await e.data.text();
        ul.append(li);
    });
    // Envoi du texte de l'input en cas de click sur le bouton
    (_a = document.querySelector("#btn_envoyer")) === null || _a === void 0 ? void 0 : _a.addEventListener("click", () => {
        let input = document.querySelector("#input_text");
        let text = input.value;
        connection.send(text);
    });
    //connection.close();
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VzL3dlYnNvY2tldHMvd2Vic29ja2V0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFDLEdBQUUsRUFBRTs7SUFDN0MsSUFBSSxVQUFVLEdBQUMsSUFBSSxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUNwRCxJQUFJLEVBQUUsR0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBZ0IsQ0FBQztJQUM3RCw0Q0FBNEM7SUFDNUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFDLEVBQUU7UUFDN0MsSUFBSSxFQUFFLEdBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQWdCLENBQUM7UUFDbkQsRUFBRSxDQUFDLFNBQVMsR0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDakMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNsQixDQUFDLENBQUMsQ0FBQztJQUVILDBEQUEwRDtJQUMxRCxNQUFBLFFBQVEsQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLDBDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBQyxHQUFFLEVBQUU7UUFDakUsSUFBSSxLQUFLLEdBQUUsUUFBUSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQXFCLENBQUM7UUFDckUsSUFBSSxJQUFJLEdBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNyQixVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FBQyxDQUFDO0lBQ0gscUJBQXFCO0FBQ3pCLENBQUMsQ0FBQyxDQUFBIiwiZmlsZSI6InBhZ2VzL3dlYnNvY2tldHMvd2Vic29ja2V0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsKCk9PntcclxuICAgIGxldCBjb25uZWN0aW9uPW5ldyBXZWJTb2NrZXQoXCJ3czovL2xvY2FsaG9zdDo0MjAxXCIpO1xyXG4gICAgbGV0IHVsPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdWxfbWVzc2FnZXNcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAvLyByw6lhY3Rpb24gw6AgdW4gbWVzc2FnZSBwcm92ZW5hbnQgZHUgc2VydmVyXHJcbiAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYXN5bmMgKGUpPT57XHJcbiAgICAgICAgbGV0IGxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBsaS5pbm5lckhUTUw9YXdhaXQgZS5kYXRhLnRleHQoKTtcclxuICAgICAgICB1bC5hcHBlbmQobGkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRW52b2kgZHUgdGV4dGUgZGUgbCdpbnB1dCBlbiBjYXMgZGUgY2xpY2sgc3VyIGxlIGJvdXRvblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5fZW52b3llclwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKCk9PntcclxuICAgICAgICBsZXQgaW5wdXQgPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfdGV4dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGxldCB0ZXh0PWlucHV0LnZhbHVlO1xyXG4gICAgICAgIGNvbm5lY3Rpb24uc2VuZCh0ZXh0KTtcclxuICAgIH0pO1xyXG4gICAgLy9jb25uZWN0aW9uLmNsb3NlKCk7XHJcbn0pIl19
